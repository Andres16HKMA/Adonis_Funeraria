"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Departament_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Departament"));
class DepartmentsController {
    async store({ request }) {
        let body = request.body();
        const theDepartament = await Departament_1.default.create(body);
        return theDepartament;
    }
    async index({ request }) {
        const page = request.input('page', 1);
        const perPage = request.input('perPage', 20);
        let departaments = await Departament_1.default.query().paginate(page, perPage);
        return departaments;
    }
    async show({ params }) {
        return Departament_1.default.findOrFail(params.id);
    }
    async update({ params, request }) {
        const body = request.body();
        const theDepartament = await Departament_1.default.findOrFail(params.id);
        theDepartament.name = body.name;
        return await theDepartament.save();
    }
    async delete({ params, response }) {
        const theDepartament = await Departament_1.default.findOrFail(params.id);
        response.status(204);
        return await theDepartament.delete();
    }
}
exports.default = DepartmentsController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwYXJ0bWVudHNDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRGVwYXJ0bWVudHNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsK0ZBQWlEO0FBRWpELE1BQXFCLHFCQUFxQjtJQUUvQixLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUMsT0FBTyxFQUFxQjtRQUM1QyxJQUFJLElBQUksR0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDeEIsTUFBTSxjQUFjLEdBQUMsTUFBTSxxQkFBVyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRCxPQUFPLGNBQWMsQ0FBQztJQUMxQixDQUFDO0lBR00sS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFDLE9BQU8sRUFBc0I7UUFDN0MsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdEMsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDN0MsSUFBSSxZQUFZLEdBQWdCLE1BQU0scUJBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFBO1FBQ2pGLE9BQU8sWUFBWSxDQUFDO0lBQ3hCLENBQUM7SUFDTSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFzQjtRQUMzQyxPQUFPLHFCQUFXLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBR00sS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQXVCO1FBQ3hELE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM1QixNQUFNLGNBQWMsR0FBZ0IsTUFBTSxxQkFBVyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDNUUsY0FBYyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2hDLE9BQU8sTUFBTSxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUdNLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUF1QjtRQUN6RCxNQUFNLGNBQWMsR0FBZ0IsTUFBTSxxQkFBVyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDNUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQixPQUFPLE1BQU0sY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3pDLENBQUM7Q0FDSjtBQWpDRCx3Q0FpQ0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEh0dHBDb250ZXh0Q29udHJhY3QgfSBmcm9tICdAaW9jOkFkb25pcy9Db3JlL0h0dHBDb250ZXh0J1xuaW1wb3J0IERlcGFydGFtZW50IGZyb20gJ0FwcC9Nb2RlbHMvRGVwYXJ0YW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXBhcnRtZW50c0NvbnRyb2xsZXIge1xuICAgIC8vIGNyZWF0ZVxuICAgIHB1YmxpYyBhc3luYyBzdG9yZSh7cmVxdWVzdH06SHR0cENvbnRleHRDb250cmFjdCl7XG4gICAgICAgIGxldCBib2R5PXJlcXVlc3QuYm9keSgpO1xuICAgICAgICBjb25zdCB0aGVEZXBhcnRhbWVudD1hd2FpdCBEZXBhcnRhbWVudC5jcmVhdGUoYm9keSk7XG4gICAgICAgIHJldHVybiB0aGVEZXBhcnRhbWVudDtcbiAgICB9XG5cbiAgICAvLyBnZXRcbiAgICBwdWJsaWMgYXN5bmMgaW5kZXgoe3JlcXVlc3R9OiBIdHRwQ29udGV4dENvbnRyYWN0KXtcbiAgICAgICAgY29uc3QgcGFnZSA9IHJlcXVlc3QuaW5wdXQoJ3BhZ2UnLCAxKTtcbiAgICAgICAgY29uc3QgcGVyUGFnZSA9IHJlcXVlc3QuaW5wdXQoJ3BlclBhZ2UnLCAyMCk7XG4gICAgICAgIGxldCBkZXBhcnRhbWVudHM6RGVwYXJ0YW1lbnRbXT0gYXdhaXQgRGVwYXJ0YW1lbnQucXVlcnkoKS5wYWdpbmF0ZShwYWdlLCBwZXJQYWdlKVxuICAgICAgICByZXR1cm4gZGVwYXJ0YW1lbnRzO1xuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgc2hvdyh7cGFyYW1zfTogSHR0cENvbnRleHRDb250cmFjdCl7XG4gICAgICAgIHJldHVybiBEZXBhcnRhbWVudC5maW5kT3JGYWlsKHBhcmFtcy5pZCk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZSh7IHBhcmFtcywgcmVxdWVzdCB9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSByZXF1ZXN0LmJvZHkoKTtcbiAgICAgICAgY29uc3QgdGhlRGVwYXJ0YW1lbnQ6IERlcGFydGFtZW50ID0gYXdhaXQgRGVwYXJ0YW1lbnQuZmluZE9yRmFpbChwYXJhbXMuaWQpO1xuICAgICAgICB0aGVEZXBhcnRhbWVudC5uYW1lID0gYm9keS5uYW1lO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhlRGVwYXJ0YW1lbnQuc2F2ZSgpO1xuICAgIH1cblxuICAgIC8vIGRlbGV0ZVxuICAgIHB1YmxpYyBhc3luYyBkZWxldGUoeyBwYXJhbXMsIHJlc3BvbnNlIH06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICAgICAgY29uc3QgdGhlRGVwYXJ0YW1lbnQ6IERlcGFydGFtZW50ID0gYXdhaXQgRGVwYXJ0YW1lbnQuZmluZE9yRmFpbChwYXJhbXMuaWQpO1xuICAgICAgICByZXNwb25zZS5zdGF0dXMoMjA0KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoZURlcGFydGFtZW50LmRlbGV0ZSgpO1xuICAgIH1cbn0iXX0=