"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Departament_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Departament"));
class DepartmentsController {
    async store({ request }) {
        let body = request.body();
        const theDepartament = await Departament_1.default.create(body);
        return theDepartament;
    }
    async index({ request }) {
        const page = request.input('page', 1);
        const perPage = request.input('perPage', 20);
        let departaments = await Departament_1.default.query().paginate(page, perPage);
        return departaments;
    }
    async show({ params }) {
        return Departament_1.default.findOrFail(params.id);
    }
    async update({ params, request }) {
        const body = request.body();
        const theDepartament = await Departament_1.default.findOrFail(params.id);
        theDepartament.name = body.name;
        return await theDepartament.save();
    }
}
exports.default = DepartmentsController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwYXJ0bWVudHNDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRGVwYXJ0bWVudHNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsK0ZBQWlEO0FBRWpELE1BQXFCLHFCQUFxQjtJQUUvQixLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUMsT0FBTyxFQUFxQjtRQUM1QyxJQUFJLElBQUksR0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDeEIsTUFBTSxjQUFjLEdBQUMsTUFBTSxxQkFBVyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRCxPQUFPLGNBQWMsQ0FBQztJQUMxQixDQUFDO0lBR00sS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFDLE9BQU8sRUFBc0I7UUFDN0MsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdEMsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDN0MsSUFBSSxZQUFZLEdBQWdCLE1BQU0scUJBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFBO1FBQ2pGLE9BQU8sWUFBWSxDQUFDO0lBQ3hCLENBQUM7SUFDTSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFzQjtRQUMzQyxPQUFPLHFCQUFXLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBR00sS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQXVCO1FBQ3hELE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM1QixNQUFNLGNBQWMsR0FBZ0IsTUFBTSxxQkFBVyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDNUUsY0FBYyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2hDLE9BQU8sTUFBTSxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkMsQ0FBQztDQUNKO0FBMUJELHdDQTBCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXG5pbXBvcnQgRGVwYXJ0YW1lbnQgZnJvbSAnQXBwL01vZGVscy9EZXBhcnRhbWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlcGFydG1lbnRzQ29udHJvbGxlciB7XG4gICAgLy8gY3JlYXRlXG4gICAgcHVibGljIGFzeW5jIHN0b3JlKHtyZXF1ZXN0fTpIdHRwQ29udGV4dENvbnRyYWN0KXtcbiAgICAgICAgbGV0IGJvZHk9cmVxdWVzdC5ib2R5KCk7XG4gICAgICAgIGNvbnN0IHRoZURlcGFydGFtZW50PWF3YWl0IERlcGFydGFtZW50LmNyZWF0ZShib2R5KTtcbiAgICAgICAgcmV0dXJuIHRoZURlcGFydGFtZW50O1xuICAgIH1cblxuICAgIC8vIGdldFxuICAgIHB1YmxpYyBhc3luYyBpbmRleCh7cmVxdWVzdH06IEh0dHBDb250ZXh0Q29udHJhY3Qpe1xuICAgICAgICBjb25zdCBwYWdlID0gcmVxdWVzdC5pbnB1dCgncGFnZScsIDEpO1xuICAgICAgICBjb25zdCBwZXJQYWdlID0gcmVxdWVzdC5pbnB1dCgncGVyUGFnZScsIDIwKTtcbiAgICAgICAgbGV0IGRlcGFydGFtZW50czpEZXBhcnRhbWVudFtdPSBhd2FpdCBEZXBhcnRhbWVudC5xdWVyeSgpLnBhZ2luYXRlKHBhZ2UsIHBlclBhZ2UpXG4gICAgICAgIHJldHVybiBkZXBhcnRhbWVudHM7XG4gICAgfVxuICAgIHB1YmxpYyBhc3luYyBzaG93KHtwYXJhbXN9OiBIdHRwQ29udGV4dENvbnRyYWN0KXtcbiAgICAgICAgcmV0dXJuIERlcGFydGFtZW50LmZpbmRPckZhaWwocGFyYW1zLmlkKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGVcbiAgICBwdWJsaWMgYXN5bmMgdXBkYXRlKHsgcGFyYW1zLCByZXF1ZXN0IH06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHJlcXVlc3QuYm9keSgpO1xuICAgICAgICBjb25zdCB0aGVEZXBhcnRhbWVudDogRGVwYXJ0YW1lbnQgPSBhd2FpdCBEZXBhcnRhbWVudC5maW5kT3JGYWlsKHBhcmFtcy5pZCk7XG4gICAgICAgIHRoZURlcGFydGFtZW50Lm5hbWUgPSBib2R5Lm5hbWU7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGVEZXBhcnRhbWVudC5zYXZlKCk7XG4gICAgfVxufSJdfQ==